import Image from 'next/image'
import { useRouter } from 'next/router'
import { match, P } from 'ts-pattern'

import logoBlogSrc from '../../public/images/logo/blog.svg'
import logoSrc from '../../public/images/logo/default.svg'
import logoDevSrc from '../../public/images/logo/dev.svg'
import logoLearnSrc from '../../public/images/logo/learn.svg'

type Props = {
  label?: boolean
  isTopbarDesktop?: boolean
}

export const Logo = (props: Props) => {
  const { label = true, isTopbarDesktop } = props

  const { pathname } = useRouter()

  return (
    <div className="flex shrink-0 items-center gap-2">
      {match(pathname)
        .with(
          P.when(p => p.startsWith('/insights')),
          () => <Image src={logoDevSrc} alt="Status logo" />
        )
        .with(
          P.when(p => p.startsWith('/learn')),
          () => <Image src={logoLearnSrc} alt="Status logo" />
        )
        .with(
          P.when(p => p.startsWith('/blog')),
          () => <Image src={logoBlogSrc} alt="Status logo" />
        )
        .otherwise(() => (
          <Image src={logoSrc} alt="Status logo" />
        ))}
      {label && (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="70"
          height="16"
          fill="none"
          className={`mr-[10px] ${isTopbarDesktop ? 'hidden lg:block' : ''}`}
        >
          <path
            fill="#fff"
            fillRule="evenodd"
            d="M19.423 13.144c.252.042 1.511.01 1.595 0V16h-1.942c-.84-.021-1.54-.09-2.26-.365a3.153 3.153 0 0 1-1.508-1.226c-.378-.632-.526-1.37-.526-2.094V5.627h-1.848V2.94h1.848V0h3.444v2.94h2.184v2.687h-2.184v6.215c0 .252.039.529.151.768a.822.822 0 0 0 .425.38c.203.077.348.123.62.154ZM7.863 8.262c1.253.256 2.188.67 2.802 1.243.305.287.545.637.702 1.025.158.388.224.809.224 1.229 0 .797-.255 1.582-.744 2.22a4.863 4.863 0 0 1-2.032 1.488c-.944.37-1.952.55-2.966.532-1.708-.002-3.066-.358-4.074-1.069a4.132 4.132 0 0 1-1.203-1.266C.266 13.161 0 12.367 0 11.8h3.517c.021.242.131.492.264.695.132.203.304.377.506.512a2.989 2.989 0 0 0 1.569.421 3.06 3.06 0 0 0 1.515-.379 1.101 1.101 0 0 0 .583-.945.995.995 0 0 0-.41-.801c-.373-.249-.804-.39-1.241-.473l-2.234-.444c-1.258-.252-2.194-.688-2.807-1.31a3.245 3.245 0 0 1-.908-2.374 3.471 3.471 0 0 1 .676-2.141 4.308 4.308 0 0 1 1.905-1.385 7.829 7.829 0 0 1 2.883-.487c1.63.002 2.912.346 3.847 1.033.456.327.838.747 1.121 1.231.283.485.49 1.41.49 1.934H8.042c-.052-.283-.201-.694-.39-.91a1.987 1.987 0 0 0-.726-.546 2.56 2.56 0 0 0-1.07-.206 2.595 2.595 0 0 0-1.39.332c-.17.088-.326.236-.426.4a1.05 1.05 0 0 0-.155.544.992.992 0 0 0 .369.78c.379.268.811.42 1.276.508l2.332.473Zm25.606-3.185a3.828 3.828 0 0 0-1.212-1.357 5.446 5.446 0 0 0-1.754-.78 8.505 8.505 0 0 0-2.062-.252c-.913 0-1.846.144-2.714.472A4.832 4.832 0 0 0 23.82 4.48c-.569.669-.996 1.521-.996 2.408H26.1c.084-.535.431-.906.795-1.165a2.712 2.712 0 0 1 1.526-.443c.501 0 1.025.14 1.428.455.17.155.302.347.388.56.086.214.136.44.122.67-.007.12-.031.297-.086.405a.877.877 0 0 1-.268.294c-.313.177-.654.256-1.014.31-.428.064-.958.119-1.64.19l-.144.014c-.616.058-1.226.164-1.825.32a5.154 5.154 0 0 0-1.548.67 3.176 3.176 0 0 0-1.075 1.182c-.279.559-.397 1.178-.397 1.798 0 .745.17 1.493.56 2.132a3.493 3.493 0 0 0 1.525 1.283 5.553 5.553 0 0 0 2.199.438 5.41 5.41 0 0 0 1.686-.26 3.78 3.78 0 0 0 1.25-.71c.342-.298.74-.663.948-1.067l.01 1.785h3.434V7.055c0-.682-.198-1.366-.505-1.978Zm-3.105 5.582c-.113 1.28-.877 2.426-2.099 2.78a2.263 2.263 0 0 1-.775.078h-.096a1.564 1.564 0 0 1-1.366-1.081c-.237-.865.257-1.612 1.302-1.962l.144-.045c.417-.117.768-.159 1.12-.201.359-.043.718-.087 1.148-.21.21-.06.411-.138.607-.234l.003.012a3.661 3.661 0 0 1 .012.863Zm11.442 2.485c.252.042 1.512.01 1.596 0V16h-1.943c-.84-.021-1.54-.09-2.26-.365a3.153 3.153 0 0 1-1.507-1.226c-.379-.632-.527-1.37-.527-2.094V5.627h-1.847V2.94h1.847V0h3.444v2.94h2.184v2.687h-2.184v6.215c0 .252.039.529.151.768a.822.822 0 0 0 .426.38c.202.077.347.123.62.154ZM52.893 2.94v7.39c0 .505-.1 1.01-.346 1.454a2.3 2.3 0 0 1-.91.884 2.548 2.548 0 0 1-1.208.3 2.09 2.09 0 0 1-1.628-.664 2.6 2.6 0 0 1-.612-1.806V2.94h-3.444v8.189c0 .892.174 1.796.56 2.607a4 4 0 0 0 1.53 1.668c.69.402 1.48.596 2.278.596.86 0 1.73-.22 2.461-.695a3.855 3.855 0 0 0 1.465-1.825v2.268h3.297V2.94h-3.444Zm12.65 5.322c1.253.256 2.188.67 2.802 1.243.305.287.544.637.702 1.025.158.388.224.809.224 1.229 0 .797-.255 1.582-.744 2.22a4.863 4.863 0 0 1-2.032 1.488c-.945.37-1.952.55-2.966.532-1.708-.002-3.066-.358-4.074-1.069a4.132 4.132 0 0 1-1.203-1.266c-.306-.503-.572-1.297-.572-1.864h3.517c.021.242.131.492.264.695.132.203.304.377.506.512a2.989 2.989 0 0 0 1.569.421 3.06 3.06 0 0 0 1.515-.379 1.102 1.102 0 0 0 .583-.945.994.994 0 0 0-.41-.801c-.374-.249-.804-.39-1.242-.473l-2.233-.444c-1.259-.252-2.194-.688-2.807-1.31a3.245 3.245 0 0 1-.908-2.374 3.472 3.472 0 0 1 .676-2.141 4.308 4.308 0 0 1 1.905-1.385 7.829 7.829 0 0 1 2.883-.487c1.63.002 2.911.346 3.847 1.033.456.327.838.747 1.121 1.231.283.485.49 1.41.49 1.934h-3.234c-.052-.283-.201-.694-.39-.91a1.988 1.988 0 0 0-.726-.546 2.56 2.56 0 0 0-1.07-.206 2.595 2.595 0 0 0-1.39.332c-.17.088-.326.236-.426.4-.1.164-.154.352-.155.544a.991.991 0 0 0 .369.78c.379.268.811.42 1.276.508l2.332.473Z"
            clipRule="evenodd"
          />
        </svg>
      )}
    </div>
  )
}

export type { Props as LogoProps }
