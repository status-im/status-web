"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[833],{6861:(e,t,a)=>{a.d(t,{R:()=>l});var s=a(87579),n=a(53692);let r=a(34343).hI.NEXT_PUBLIC_STATUS_API_URL;async function i(e,t){var a,s,n;let i=new URL("".concat(r,"/api/trpc/market.tokenPrice"));i.searchParams.set("input",JSON.stringify({json:{symbols:[e]}}));let l=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw Error(t("errors.failed_fetch_exchange_rate",{token:e,status:l.status.toString(),statusText:l.statusText}));let o=await l.json(),d=null==o||null==(n=o.result)||null==(s=n.data)||null==(a=s.json)?void 0:a[e];if((null==d?void 0:d.usd)===void 0||(null==d?void 0:d.usd)===null)throw Error(t("errors.invalid_market_api_response",{token:e}));if(isNaN(d.usd))throw Error(t("errors.invalid_price_value",{token:e,price:d.usd.toString()}));return{price:d.usd,priceChange24h:d.usd_24h_change,timestamp:Date.now(),token:e}}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{token:t="SNT",enabled:a=!0,refetchInterval:r=6e4,staleTime:l=3e4}=e,o=(0,n.c)();return(0,s.I)({queryKey:["exchangeRate",t],queryFn:()=>i(t,o),enabled:a,refetchInterval:r,staleTime:l,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})}},16947:(e,t,a)=>{a.d(t,{S:()=>o});var s=a(27274),n=a(51960),r=a(30703),i=a(53692);let l=["KARMA","LINEA","SNT","GUSD"],o=()=>{let e=(0,i.c)();return(0,s.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[(0,s.jsx)("div",{className:"flex size-[22px] min-w-[50px] items-center -space-x-1.5",children:l.map(e=>(0,s.jsx)(r.default,{src:"/tokens/".concat(e.toLowerCase(),".png"),alt:e,width:"20",height:"20"},e))}),(0,s.jsxs)("p",{className:"text-15 text-neutral-60",children:[e("rewards.description"),(0,s.jsx)("br",{}),e("rewards.audited_prefix")," ",(0,s.jsx)(n.N_,{href:"https://github.com/aragon/status-predeposit-vaults/blob/development/audit/report-aragon-pre-deposit-vaults.pdf",target:"_blank",rel:"noopener noreferrer",className:"text-purple hover:text-purple-dark",children:e("rewards.audited_link")}),". ",e("rewards.deposit_confirmation")," ",(0,s.jsx)(n.N_,{href:"https://status.network/legal/status-network-pre-deposit-disclaimer",target:"_blank",rel:"noopener noreferrer",className:"text-purple hover:text-purple-dark",children:e("rewards.disclaimer")}),"."]})]})}},23614:(e,t,a)=>{a.d(t,{I:()=>d,k:()=>c});var s=a(92834),n=a(26882),r=a(23750),i=a(22553),l=a(58041),o=a(74898);function d(e){return(0,n.eV)(e,{size:32})}function c(){let{registerRefetch:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{address:t}=(0,i.F)(),a=t?d(t):void 0,{data:n,isLoading:c,refetch:u}=(0,l.Q)({address:o.po.address,abi:o.po.abi,functionName:"getPredeposit",args:t&&a?[o.J4,t,a]:void 0,chainId:r.r.id,query:{enabled:!!t}}),m=(0,s.useCallback)(()=>{u()},[u]);return(0,s.useEffect)(()=>{null==e||e("GUSD",m)},[e,m]),{data:n,isLoading:c,refetch:m}}},26022:(e,t,a)=>{a.d(t,{A:()=>l,r:()=>o});var s=a(27274),n=a(92834),r=a(38272);let i=(0,n.createContext)(null),l=e=>{let{children:t}=e,a=function(){let[e,t]=(0,n.useState)({type:"idle"}),a=(0,n.useCallback)(e=>{t(t=>(0,r.YW)([t,e]).with([{type:"idle"},{type:"START_APPROVE_TOKEN"}],e=>{let[,t]=e;return{type:"approveToken",step:"initialize",spender:t.spender,amount:t.amount}}).with([{type:"idle"},{type:"START_PRE_DEPOSIT"}],e=>{let[,t]=e;return{type:"preDeposit",step:"initialize",amount:t.amount}}).with([{type:"preDeposit",step:"initialize"},{type:"EXECUTE"}],()=>({type:"preDeposit",step:"processing"})).with([{type:"preDeposit",step:"initialize"},{type:"REJECT"}],()=>({type:"preDeposit",step:"rejected"})).with([{type:"preDeposit",step:"processing"},{type:"REJECT"}],()=>({type:"preDeposit",step:"rejected"})).with([{type:"preDeposit",step:"processing"},{type:"RESET"}],()=>({type:"idle"})).with([{type:"preDeposit",step:"rejected"},{type:"RESET"}],()=>({type:"idle"})).with([{type:"approveToken",step:"initialize"},{type:"EXECUTE"}],e=>{let[t]=e;return{type:"approveToken",step:"processing",amount:t.amount}}).with([{type:"approveToken",step:"initialize"},{type:"REJECT"}],e=>{let[t]=e;return{type:"approveToken",step:"rejected",amount:t.amount}}).with([{type:"approveToken",step:"processing"},{type:"COMPLETE"}],e=>{let[t,a]=e;return{type:"approveToken",step:"initialize",amount:a.amount||t.amount||"0"}}).with([{type:"approveToken",step:"processing"},{type:"REJECT"}],e=>{let[t]=e;return{type:"approveToken",step:"rejected",amount:t.amount}}).with([{type:"approveToken",step:"rejected"},{type:"START_APPROVE_TOKEN"}],e=>{let[t,a]=e;return{type:"approveToken",step:"initialize",amount:a.amount||t.amount}}).with([{type:"approveToken",step:"rejected"},{type:"RESET"}],()=>({type:"idle"})).with([{type:"success"},{type:"RESET"}],()=>({type:"idle"})).otherwise(()=>t))},[]),s=(0,n.useCallback)(()=>{a({type:"RESET"})},[a]);return{state:e,send:a,reset:s}}();return(0,s.jsx)(i.Provider,{value:a,children:t})},o=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("usePreDepositStateContext must be used within PreDepositStateProvider");return e}},36931:(e,t,a)=>{a.d(t,{Tooltip:()=>l});var s=a(27274),n=a(92834),r=a(61404),i=a(26260);let l=e=>{let{children:t,content:a,delayDuration:l=0,sideOffset:o=8,...d}=e,[c,u]=(0,n.useState)(!1);return(0,s.jsx)(r.Kq,{children:(0,s.jsxs)(r.bL,{open:c,onOpenChange:u,delayDuration:l,children:[(0,s.jsx)(r.l9,{asChild:!0,children:n.cloneElement(t,{onClick:e=>{let a=t.props.onClick;a&&a(e),u(!0)}})}),(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{sideOffset:o,...d,className:(0,i.cx)("z-50 cursor-default rounded-8 border border-neutral-10 bg-white-100 px-3 py-1.5 text-13 font-medium shadow-3","dark:border-neutral-80 dark:bg-neutral-90 dark:text-white-100"),children:a})})]})})}},43091:(e,t,a)=>{a.d(t,{E:()=>r});var s=a(27274),n=a(26260);function r(e){let{width:t=32,height:a=32,className:r,...i}=e;return(0,s.jsx)("div",{className:(0,n.cx)("animate-skeleton overflow-hidden bg-neutral-10",r),style:{width:"number"==typeof t?"".concat(t,"px"):t,height:"number"==typeof a?"".concat(a,"px"):a,background:"linear-gradient(-90deg, #F0F2F5, #FCFCFC, #F0F2F5)",backgroundSize:"400% 400%"},...i})}(0,n.Fj)({base:"animate-skeleton overflow-hidden",variants:{variant:{primary:"bg-neutral-10",secondary:"bg-neutral-20"}},defaultVariants:{variant:"primary"}})},47335:(e,t,a)=>{a.d(t,{b:()=>T});var s=a(27274),n=a(92834),r=a(43091),i=a(51960),l=a(80583),o=a(26260),d=a(53692),c=a(49535),u=a(22553),m=a(67464),p=a(74898),h=a(23750),x=a(58041),v=a(47135),f=a(23614),w=a(93311),b=a(6861),g=a(53441),j=a(52878),y=a(86149),N=a(58069);let _=(0,o.Fj)({base:"relative flex size-full flex-col rounded-32 border border-neutral-20 bg-white-100 p-4 shadow-1 lg:p-8",variants:{disabled:{true:"pointer-events-none opacity-[.40]"}},defaultVariants:{disabled:!1}}),E=e=>{let{isConnected:t=!1}=e;return(0,s.jsxs)("div",{className:_(),children:[(0,s.jsx)("div",{className:"mb-6 flex items-start justify-between",children:(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(r.E,{width:56,height:56,className:"rounded-full"})})}),(0,s.jsx)(r.E,{width:180,height:28,className:"mb-2 rounded-8"}),t&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)(r.E,{width:80,height:20,className:"mb-1 rounded-6"}),(0,s.jsx)(r.E,{width:120,height:32,className:"rounded-8"})]}),(0,s.jsxs)("ul",{className:"my-4 space-y-2",children:[(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{width:20,height:20,className:"rounded-full"}),(0,s.jsx)(r.E,{width:50,height:20,className:"rounded-6"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{width:20,height:20,className:"rounded-full"}),(0,s.jsx)(r.E,{width:120,height:20,className:"rounded-6"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{width:20,height:20,className:"rounded-full"}),(0,s.jsx)(r.E,{width:140,height:20,className:"rounded-6"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{width:20,height:20,className:"rounded-full"}),(0,s.jsx)(r.E,{width:100,height:20,className:"rounded-6"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.E,{width:20,height:20,className:"rounded-full"}),(0,s.jsx)(r.E,{width:100,height:20,className:"rounded-6"})]})]}),(0,s.jsx)(r.E,{width:90,height:40,className:"mt-auto rounded-12"})]})},k=e=>{var t,a,l;let{vault:o,onDeposit:E,registerRefetch:k,show:T,isConnected:C,pendingDepositRef:S}=e,{rewards:D,icon:I,token:L}=o,F=(0,p.mF)(o),{data:P,isLoading:R}=function(e){let t,{vault:a}=e,s=(0,w.v)({vault:a}),n=(0,b.R)({token:a.token.priceKey||a.token.symbol});s.data&&n.data&&(t={tvlUSD:Number((0,c.J)(s.data,a.token.decimals))*n.data.price,totalAssets:s.data,exchangeRate:n.data.price});let r=s.isLoading||n.isLoading,i=s.isError||n.isError;return{data:t,isLoading:r,isError:i,error:s.error||n.error,isFetching:s.isFetching||n.isFetching}}({vault:o}),{data:A}=(0,w.v)({vault:o}),{data:O,isLoading:z}=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,x.Q)({address:p.po.address,abi:p.po.abi,functionName:"getTotalPredeposits",args:[p.J4],chainId:h.r.id,query:{enabled:e}})}(),{data:M,isLoading:U}=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:t,isLoading:a}=(0,x.Q)({address:p.c8.vaultAddress,abi:v.y,functionName:"totalAssets",chainId:h.r.id,query:{enabled:e}}),{data:s,isLoading:n}=(0,x.Q)({address:p.NT.vaultAddress,abi:v.y,functionName:"totalAssets",chainId:h.r.id,query:{enabled:e}}),{data:r,isLoading:i}=(0,x.Q)({address:p.a3.vaultAddress,abi:v.y,functionName:"totalAssets",chainId:h.r.id,query:{enabled:e}});return{data:[{token:p.c8,amount:null!=t?t:0n},{token:p.NT,amount:null!=s?s:0n},{token:p.a3,amount:null!=r?r:0n}],isLoading:a||n||i}}({enabled:F}),{data:V,isLoading:q}=(0,g.r)(),{data:J,isLoading:K}=function(e){let{vault:t,userAddress:a,registerRefetch:s}=e,{address:r}=(0,u.F)(),i=null!=a?a:r,{data:l,isLoading:o,refetch:d}=(0,x.Q)({abi:t.abi,address:t.address,chainId:t.chainId,functionName:"balanceOf",args:i?[i]:void 0,query:{enabled:!!i}}),{data:c,isLoading:m,refetch:p}=(0,x.Q)({abi:t.abi,address:t.address,chainId:t.chainId,functionName:"convertToAssets",args:void 0!==l?[l]:void 0,query:{enabled:void 0!==l&&l>0n}}),h=0n===l?0n:c,v=(0,n.useCallback)(()=>{d(),p()},[d,p]);return(0,n.useEffect)(()=>{null==s||s(t.id,v)},[t.id,s,v]),{data:h,shares:l,isLoading:o||m,refetch:v}}({vault:o,registerRefetch:k}),{data:W,isLoading:Q}=(0,f.k)({registerRefetch:k});(0,n.useEffect)(()=>{C&&S.current&&(S.current=!1,E())},[C,E,S]);let X=(0,d.c)(),B=o.address.toLowerCase(),Y=!(void 0!==V&&B in V),G=null==V?void 0:V[B],H=void 0!==G?String(G):null,Z=D.map(e=>e.startsWith("vault.")?X(e):e).join(", "),$=F?{decimals:2,symbol:"GUSD",tokenDecimals:18,tvlRaw:O,tvlUSD:O?Number((0,c.J)(O,18)):0,balance:W,isBalanceLoading:Q,isTvlLoading:z}:{decimals:4*("WETH"===L.symbol),symbol:L.symbol,tokenDecimals:L.decimals,tvlRaw:A,tvlUSD:null!=(t=null==P?void 0:P.tvlUSD)?t:0,balance:J,isBalanceLoading:K,isTvlLoading:R},ee=Y?null:(0,m.vv)($.tvlUSD,{compact:!0,roundDown:!0}).replace("$",""),et=Y?null:(0,m.NJ)(null!=(a=$.tvlRaw)?a:0n,$.symbol,{tokenDecimals:$.tokenDecimals,decimals:$.decimals,includeSymbol:!0,roundDown:!0,compact:!0});return(0,s.jsxs)("div",{className:_({disabled:Y}),children:[(0,s.jsxs)("div",{className:"mb-6 flex items-start justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(N.Q,{vault:I,network:o.network,size:"56"})}),(0,s.jsx)(y.I,{content:X("vault.apy_tooltip")})]}),(0,s.jsx)("h3",{className:"mb-2 text-19 font-600 lg:text-27",children:o.name}),!Y&&C&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-15 font-400 text-neutral-50",children:X("vault.your_deposit")}),(0,s.jsx)("div",{className:"text-27 font-600",children:$.isBalanceLoading?(0,s.jsx)(r.E,{width:120,height:32,className:"rounded-8"}):(0,m.NJ)(null!=(l=$.balance)?l:0n,$.symbol,{tokenDecimals:$.tokenDecimals,decimals:$.decimals,includeSymbol:!0,roundDown:!0})})]}),(0,s.jsxs)("ul",{className:"my-4 space-y-2",children:[(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-purple",children:(0,s.jsx)(j.ub,{})}),(0,s.jsx)("span",{className:"text-neutral-100",children:"KARMA"})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(j.R3,{})}),q?(0,s.jsx)(r.E,{width:120,height:20,className:"rounded-6"}):(0,s.jsx)("span",{children:H?"".concat(H,"% ").concat(X("vault.liquid_apy")):X("vault.liquid_apy_tbd")})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(j.c1,{})}),(0,s.jsx)("span",{children:Z})]}),F&&(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(j.fs,{})}),(0,s.jsx)("span",{children:X("vault.generic_protocol_points")})]}),(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(j.ah,{})}),$.isTvlLoading?(0,s.jsx)(r.E,{width:80,height:20,className:"rounded-6"}):(0,s.jsx)("span",{children:ee?"$".concat(ee," ").concat(X("vault.tvl")):X("vault.tvl_tbd")})]}),!Y&&(0,s.jsxs)("li",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(j.te,{})}),F?U?(0,s.jsx)(r.E,{width:140,height:20,className:"rounded-6"}):(0,s.jsx)("span",{children:M.filter(e=>{let{amount:t}=e;return t>0n}).map(e=>{let{token:t,amount:a}=e;return(0,m.NJ)(a,t.symbol,{tokenDecimals:t.decimals,decimals:2*(18===t.decimals),includeSymbol:!0,roundDown:!0,compact:!0})}).join(" + ")}):(0,s.jsx)("span",{children:et})]})]}),(0,s.jsx)(i.$n,{size:"40",onClick:()=>{C?E():(S.current=!0,null==T||T())},disabled:Y,className:"mt-auto w-full justify-center lg:w-fit",children:Y?X("vault.coming_soon"):X("vault.deposit")})]})},T=e=>{let t=(0,n.useRef)(!1),[a,r]=(0,n.useState)(!1),{isLoading:i}=(0,g.r)(),{isConnected:o}=(0,u.F)();return((0,n.useEffect)(()=>{r(!0)},[]),!a||i)?(0,s.jsx)(E,{isConnected:!!a&&o}):(0,s.jsx)(l.Lw.Custom,{children:a=>{let{show:n,isConnected:r}=a;return(0,s.jsx)(k,{...e,show:n,isConnected:r,pendingDepositRef:t})}})}},53441:(e,t,a)=>{a.d(t,{r:()=>i});var s=a(87579),n=a(53692),r=a(34343);function i(){let e=(0,n.c)();return(0,s.I)({queryKey:["vaults-apy"],queryFn:async()=>{let t=await fetch("".concat(r.hI.NEXT_PUBLIC_STATUS_NETWORK_API_URL,"/predeposit/vaults"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error(e("errors.failed_fetch_vaults_apy",{error:t.statusText}));let a=await t.json(),s={};for(let e of a.result)s[e.vaultAddress.toLowerCase()]=e.apy;return s}})}},58069:(e,t,a)=>{a.d(t,{Q:()=>m});var s=a(27274),n=a(26260),r=a(30703),i=a(38272),l=a(23750),o=a(77379);let d=(0,n.Fj)({base:"relative",variants:{size:{20:"size-5",32:"size-8",56:"size-14"}},defaultVariants:{size:"32"}}),c=(0,n.Fj)({base:"absolute rounded-full border-2 border-white-100 bg-white-100",variants:{size:{20:"-bottom-0.5 -right-0.5 size-2",32:"-bottom-1 -right-1 size-3",56:"-bottom-1 -right-1 size-5"}},defaultVariants:{size:"32"}}),u={20:{image:20,network:8},32:{image:32,network:12},56:{image:56,network:20}};function m(e){let{vault:t,network:a=l.r.name,size:n}=e,m=(0,i.YW)(a).with(l.r.name,()=>"/networks/ethereum.png").with(o._.name,()=>"/networks/linea.png").exhaustive(),p=u[n];return(0,s.jsxs)("div",{className:d({size:n}),children:[(0,s.jsx)(r.default,{src:"/vaults/".concat(t.toLowerCase(),".png"),alt:t,width:p.image,height:p.image,quality:"100"}),"20"!==n&&(0,s.jsx)(r.default,{src:m,alt:a,width:p.network,height:p.network,className:c({size:n})})]})}},58098:(e,t,a)=>{a.d(t,{V:()=>d});var s=a(27274),n=a(77221),r=a(53540),i=a(51960),l=a(53692),o=a(52878);let d=e=>{let{open:t,onClose:a,onRetry:d,description:c,showNetworkDetails:u=!0}=e,m=(0,l.c)(),p=m("network_switch_error.description_status_network");return(0,s.jsx)(n.bL,{open:t,onOpenChange:e=>!e&&a(),children:(0,s.jsxs)(n.ZL,{children:[(0,s.jsx)(n.hJ,{className:"fixed inset-0 z-40 bg-neutral-80/60 backdrop-blur-sm"}),(0,s.jsx)(n.UC,{className:"fixed inset-x-0 top-0 z-50 flex size-full flex-col items-center justify-center p-4 focus:outline-none md:left-1/2 md:top-1/2 md:h-auto md:max-w-[440px] md:-translate-x-1/2 md:-translate-y-1/2 md:py-0",onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"relative mx-auto w-full overflow-y-auto rounded-20 bg-white-100 shadow-3 max-md:max-h-full md:w-[440px]",children:[(0,s.jsx)(n.bm,{asChild:!0,children:(0,s.jsx)("button",{"aria-label":m("common.close_aria"),className:"absolute right-4 top-4 z-50 flex size-10 items-center justify-center rounded-12 border border-neutral-20 p-2 transition-colors hover:bg-neutral-20 focus:outline-none focus:ring-2 focus:ring-neutral-40",children:(0,s.jsx)(r.USm,{className:"text-neutral-100"})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 p-8 pt-12",children:[(0,s.jsx)(o.Fx,{}),(0,s.jsx)(n.hE,{asChild:!0,children:(0,s.jsx)("h2",{className:"text-center text-19 font-semibold text-neutral-100",children:m("network_switch_error.title")})}),(0,s.jsx)(n.VY,{asChild:!0,children:(0,s.jsx)("p",{className:"text-center text-15 text-neutral-100",children:null!=c?c:p})}),u&&(0,s.jsxs)(i.N_,{href:"https://docs.status.network/general-info/network-details",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-purple hover:text-purple-dark",children:[m("network_switch_error.network_details"),(0,s.jsx)(r.XMg,{})]}),(0,s.jsxs)("div",{className:"mt-2 flex w-full flex-col gap-3 md:flex-row",children:[(0,s.jsx)(i.$n,{onClick:a,size:"40",variant:"outline",type:"button",className:"w-full justify-center md:flex-1",children:m("common.close")}),(0,s.jsx)(i.$n,{onClick:d,size:"40",variant:"primary",className:"w-full justify-center md:flex-1",children:m("network_switch_error.retry")})]})]})]})})]})})}},71346:(e,t,a)=>{a.d(t,{N:()=>H});var s=a(27274),n=a(92834),r=a(58449),i=a(52539),l=a(53540),o=a(51960),d=a(26260),c=a(53692),u=a(3896),m=a(38272),p=a(10278),h=a(49535),x=a(22553),v=a(29279),f=a(83381),w=a(1288),b=a(52878),g=a(74898),j=a(7347),y=a(29296),N=a(39441),_=a(81659),E=a(46588),k=a(54250),T=a(26022);let C={CONFIRMATION_BLOCKS:1};var S=a(24593),D=a(58041);let I=[{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]}];var L=a(94671),F=a(42712),P=a(6861),R=a(23750),A=a(87744),O=a(71308),z=a(23614);let M={CONFIRMATION_BLOCKS:1},U={CONFIRMATION_BLOCKS:1};var V=a(53441),q=a(35946),J=a(67464),K=a(58098),W=a(58069),Q=a(92468);let X=e=>e.flatMap(e=>(0,g.mF)(e)?g.MI.map(t=>({id:"GUSD-".concat(t.symbol),label:"".concat(t.name,", ").concat(t.symbol),symbol:t.symbol,icon:t.symbol.toLowerCase(),vault:e,stablecoin:t})):[{id:e.id,label:"".concat(e.token.name,", ").concat(e.token.symbol),symbol:e.token.symbol,icon:e.icon.toLowerCase(),vault:e}]),B=e=>w.Ik({amount:w.Yj().min(1,e("vault.amount_required"))}),Y=(0,d.Fj)({base:"rounded-16 border bg-white-100 px-4 py-3 transition-colors",variants:{state:{default:"border-neutral-20",error:"border-danger-50"}},defaultVariants:{state:"default"}}),G=(0,d.Fj)({base:"-mx-4 my-3 h-px w-[calc(100%+32px)] transition-colors",variants:{state:{default:"bg-neutral-10",error:"bg-danger-50"}},defaultVariants:{state:"default"}}),H=e=>{var t,a,d;let{open:w,onOpenChange:H,vault:Z,vaults:$,setActiveVault:ee,onDepositSuccess:et}=e,ea=(0,c.c)(),es=(0,i.useToast)(),{address:en}=(0,x.F)(),er=(0,v.i)(),{switchChain:ei,isPending:el}=(0,f.R)(),[eo,ed]=(0,n.useState)(!1),ec=(0,n.useMemo)(()=>X($),[$]),[eu,em]=(0,n.useState)(g.tr),ep=(0,g.mF)(Z),eh=(0,n.useMemo)(()=>{if(ep){var e;return null!=(e=ec.find(e=>{var t;return(null==(t=e.stablecoin)?void 0:t.symbol)===eu.symbol}))?e:ec.find(e=>{var t;return(null==(t=e.stablecoin)?void 0:t.symbol)===g.tr.symbol})}return ec.find(e=>e.vault.id===Z.id)},[ec,Z.id,ep,eu.symbol]),ex=null!=(t=null==eh?void 0:eh.stablecoin)?t:Z.token,ev=(0,u.mN)({resolver:(0,r.u)(B(ea)),mode:"onChange",defaultValues:{amount:""}}),ef=(0,u.FH)({control:ev.control,name:"amount"}),{mutate:ew,isPending:eb}=function(){let{address:e}=(0,x.F)(),{writeContractAsync:t}=(0,_.x)(),a=(0,E.U)(),{send:s}=(0,T.r)(),n=(0,i.useToast)(),r=(0,c.c)();return(0,j.n)({mutationKey:["approve-token-deposit",e],mutationFn:async i=>{let{token:l,amount:o,spenderAddress:d}=i;if(!e)throw Error(r("errors.wallet_not_connected"));if(!d||d===y.Xd)throw Error(r("errors.invalid_spender_address"));if(!o||0>=parseFloat(o))throw Error(r("errors.amount_greater_than_zero"));let c=(0,p.X)(o,l.decimals);s({type:"START_APPROVE_TOKEN",amount:o});try{let e=await t({address:l.address,abi:l.abi,functionName:"approve",args:[d,c]});s({type:"EXECUTE"});let{status:i}=await (0,k.n)(a,{hash:e,confirmations:C.CONFIRMATION_BLOCKS});if("reverted"===i)throw Error(r("errors.transaction_reverted"));s({type:"COMPLETE",amount:o}),n.positive(r("success.token_allowance_increased"))}catch(t){console.error("Failed to approve tokens:",t);let e=t instanceof N.C?t.shortMessage:r("errors.transaction_failed");throw n.negative(e),s({type:"REJECT"}),t}}})}(),{mutate:eg,isPending:ej}=function(){let{address:e}=(0,x.F)(),{writeContractAsync:t}=(0,_.x)(),a=(0,E.U)(),{send:s}=(0,T.r)(),n=(0,i.useToast)(),r=(0,c.c)();return(0,j.n)({mutationKey:["pre-deposit-vault",e],mutationFn:async i=>{let{vault:l,amount:o}=i;if(!e)throw Error(r("errors.wallet_not_connected"));if(!o||0>=parseFloat(o))throw Error(r("errors.amount_greater_than_zero"));let d=(0,p.X)(o,l.token.decimals);s({type:"START_APPROVE_TOKEN",amount:o});try{let i=await t({address:l.address,abi:l.abi,functionName:"deposit",args:[d,e],chainId:l.chainId});s({type:"EXECUTE"});let{status:c}=await (0,k.n)(a,{hash:i,confirmations:U.CONFIRMATION_BLOCKS});if("reverted"===c)throw Error(r("errors.transaction_reverted"));s({type:"COMPLETE",amount:o}),n.positive(r("success.deposit_successful",{vault:l.name}))}catch(t){console.error("Failed to deposit into ".concat(l.name,": "),t),s({type:"REJECT"});let e=t instanceof O.C?t.shortMessage:r("errors.transaction_failed");throw n.negative(e),t}}})}(),{mutate:ey,isPending:eN}=function(){let{address:e}=(0,x.F)(),{writeContractAsync:t}=(0,_.x)(),a=(0,A.e)({chainId:R.r.id}),{send:s}=(0,T.r)(),n=(0,i.useToast)(),r=(0,c.c)();return(0,j.n)({mutationKey:["gusd-pre-deposit",e],mutationFn:async i=>{let{stablecoin:l,amount:o}=i;if(!e)throw Error(r("errors.wallet_not_connected"));if(!o||0>=parseFloat(o))throw Error(r("errors.amount_greater_than_zero"));let d=(0,p.X)(o,l.decimals),c=(0,z.I)(e);s({type:"START_APPROVE_TOKEN",amount:o});let u=[l.address,d,g.J4,c];try{let i=await (null==a?void 0:a.estimateContractGas({address:g.SZ.address,abi:g.SZ.abi,functionName:"depositAndPredeposit",args:u,account:e})),d=await t({address:g.SZ.address,abi:g.SZ.abi,functionName:"depositAndPredeposit",args:u,chainId:R.r.id,gas:i?120n*i/100n:void 0});s({type:"EXECUTE"}),n.positive(r("vault.transaction_submitted"));let c=await (null==a?void 0:a.waitForTransactionReceipt({hash:d,confirmations:M.CONFIRMATION_BLOCKS}));if((null==c?void 0:c.status)==="reverted")throw Error(r("errors.transaction_reverted"));s({type:"COMPLETE",amount:o}),n.positive(r("vault.gusd_deposit_successful",{amount:o,symbol:l.symbol}))}catch(t){console.error("Failed to deposit into GUSD vault:",t),s({type:"REJECT"});let e=t instanceof O.C?t.shortMessage:r("errors.transaction_failed");throw n.negative(e),t}}})}(),{mutate:e_,isPending:eE}=function(){let{address:e}=(0,x.F)(),{writeContractAsync:t}=(0,_.x)(),a=(0,E.U)(),s=(0,i.useToast)(),n=(0,c.c)();return(0,j.n)({mutationKey:["wrapETH",e],mutationFn:async r=>{let{amountWei:i}=r;if(!e)throw Error(n("errors.wallet_not_connected"));if(0n===i)throw Error(n("errors.amount_greater_than_zero"));try{let e=await t({address:g.dX.address,abi:q.d,functionName:"deposit",value:i,chainId:R.r.id}),{status:r}=await (0,k.n)(a,{hash:e,confirmations:U.CONFIRMATION_BLOCKS});if("reverted"===r)throw Error(n("errors.transaction_reverted"));s.positive(n("success.eth_wrapped"))}catch(t){console.error("Failed to wrap ETH: ",t);let e=t instanceof O.C?t.shortMessage:n("errors.transaction_failed");throw s.negative(e),t}}})}(),ek=(0,n.useMemo)(()=>{if(!Z||!ef)return 0n;try{return(0,p.X)(ef,ex.decimals)}catch(e){return 0n}},[ef,Z,ex.decimals]),{data:eT}=function(e){let{stablecoin:t,amount:a,enabled:s=!0}=e;return(0,D.Q)({address:t.vaultAddress,abi:L.r9,functionName:"previewDeposit",args:[a],chainId:R.r.id,query:{enabled:s&&a>0n}})}({stablecoin:eu,amount:ek,enabled:ep&&ek>0n}),{data:eC}=(0,P.R)({token:ex.priceKey||ex.symbol}),{data:eS}=(0,V.r)(),eD=null==eS?void 0:eS[Z.address.toLowerCase()],eI=void 0!==eD?String(eD):null,eL=(0,n.useMemo)(()=>{var e;let t=parseFloat(ef||"0"),a=t*(null!=(e=null==eC?void 0:eC.price)?e:0);return(0,m.YW)({exchangeRate:eC,amountInputNumber:t,calculatedUSD:a}).with({exchangeRate:m.P.nullish},()=>0).with({amountInputNumber:m.P.when(e=>isNaN(e)||e<=0)},()=>0).with({calculatedUSD:m.P.when(e=>!isFinite(e))},()=>null).with({calculatedUSD:m.P.when(e=>e>1e12)},()=>null).otherwise(e=>{let{calculatedUSD:t}=e;return t})},[ef,eC]),{actionState:eF,balance:eP,ethBalance:eR,maxDeposit:eA,minDeposit:eO,sharesValidation:ez,refetchAllowance:eM,refetchBalances:eU,vaultAddress:eV}=function(e){var t,a;let{vault:s,amountWei:r,address:i,selectedStablecoin:l}=e,o=s.id===g.iX.id,d=(0,g.mF)(s),c=d&&l?l.address:s.token.address,u=d?s.gusdConfig.depositorAddress:s.address,{data:p,refetch:h}=(0,S.A)({address:i,token:c,query:{enabled:!!i},chainId:s.chainId}),{data:x,refetch:v}=(0,S.A)({address:i,query:{enabled:!!i&&o},chainId:s.chainId}),{data:f,refetch:w,isPending:b}=(0,D.Q)({address:c,abi:I,functionName:"allowance",args:i?[i,u]:void 0,query:{enabled:!!i},chainId:s.chainId}),{data:j}=function(e){let{vault:t}=e;return(0,D.Q)({abi:t.abi,address:t.address,functionName:"getDepositLimits",chainId:t.chainId,query:{enabled:null!==t,select:e=>({minDeposit:e[0],maxDeposit:e[1],maxTotalAssets:e[2]})}})}({vault:s}),y=d||null==j?void 0:j.maxDeposit,N=d||null==j?void 0:j.minDeposit,_=function(e){let{vault:t,depositAmount:a,enabled:s=!0}=e,n="weth"===t.token.symbol.toLowerCase(),r=(0,D.Q)({address:F.Z$.address,abi:L.DU,functionName:"getSharesByPooledEth",args:[a],query:{enabled:s&&n&&a>0n},chainId:t.chainId}),i=(0,D.Q)({address:t.address,abi:t.abi,functionName:"convertToShares",args:[a],query:{enabled:s&&!n&&a>0n},chainId:t.chainId}),{data:l,isLoading:o,isError:d,error:c}=n?r:i,{isValid:u,validationMessage:p}=(0,m.YW)({shares:l,isLoading:o,isError:d}).with({isLoading:!0},()=>({isValid:!0,validationMessage:void 0})).with({isError:!0},()=>({isValid:!1,validationMessage:"Error calculating your pre-deposit shares."})).with({shares:0n},()=>({isValid:!1,validationMessage:"This pre-deposit would result in 0 shares. Try to increase the amount."})).otherwise(()=>({isValid:!!l&&l>0n,validationMessage:void 0}));return{shares:l,isLoading:o,isError:d,error:c,isValid:u,validationMessage:p}}({vault:s,depositAmount:r,enabled:!!s&&r>0n&&!d}),E=(0,n.useMemo)(()=>{var e,t;if(0n===r)return"idle";if(!d&&!_.isValid)return"invalid-shares";let a=null!=(e=null==p?void 0:p.value)?e:0n,s=null!=(t=null==x?void 0:x.value)?t:0n,n=null!=f?f:0n,i=o?a+s:a;return(0,m.YW)({amountWei:r,currentBal:a,currentEthBal:s,totalAvailable:i,currentAllow:n,maxDeposit:y,minDeposit:N,isWETHVault:o}).with({amountWei:m.P.when(e=>e>i)},()=>"invalid-balance").with({maxDeposit:m.P.not(m.P.nullish),amountWei:m.P.when(e=>y&&e>y)},()=>"exceeds-max").with({minDeposit:m.P.not(m.P.nullish),amountWei:m.P.when(e=>N&&e<N)},()=>"below-min").with({isWETHVault:!0,amountWei:m.P.when(e=>e>a),currentEthBal:m.P.when(e=>e>0n)},()=>"needs-wrap").with({amountWei:m.P.when(e=>e>n)},()=>"approve").otherwise(()=>"deposit")},[r,p,x,f,y,N,_.isValid,o,d]),k=async()=>{await Promise.all([h(),o?v():Promise.resolve()])};return{actionState:E,balance:null!=(t=null==p?void 0:p.value)?t:0n,ethBalance:null!=(a=null==x?void 0:x.value)?a:0n,maxDeposit:y,minDeposit:N,sharesValidation:_,refetchAllowance:w,refetchBalances:k,isLoadingAllowance:b,isGUSD:d,vaultAddress:u}}({vault:Z,amountWei:ek,address:en,selectedStablecoin:ep?eu:void 0}),eq=(0,n.useMemo)(()=>!!Z&&!!er&&Z.chainId!==er,[Z,er]);if((0,n.useEffect)(()=>{!eq&&eo&&ed(!1)},[eq,eo]),!Z)return null;let eJ=e=>{ep?ey({stablecoin:eu,amount:e},{onSuccess:()=>{null==et||et(),H(!1)},onError:()=>{es.negative(ea("vault.deposit_failed")),ev.reset()}}):eg({amount:e,vault:Z},{onSuccess:()=>{null==et||et(),H(!1)},onError:()=>{es.negative(ea("vault.deposit_failed")),ev.reset()}})},eK=eb||ej||eE||eN,eW=(0,m.YW)(eF).with(m.P.union("invalid-balance","exceeds-max","below-min","invalid-shares"),()=>!0).otherwise(()=>!1),eQ=(0,m.YW)(eF).with("invalid-balance",()=>{let e="WETH"===Z.id?(null!=eP?eP:0n)+(null!=eR?eR:0n):null!=eP?eP:0n;return ea("vault.insufficient_balance",{max:(0,J.NJ)(e,ex.symbol,{tokenDecimals:ex.decimals})})}).with("exceeds-max",()=>ea("vault.exceeds_vault_limit",{max:(0,J.NJ)(null!=eA?eA:0n,ex.symbol,{tokenDecimals:ex.decimals})})).with("below-min",()=>ea("vault.below_minimum_deposit",{min:(0,J.NJ)(null!=eO?eO:0n,ex.symbol,{tokenDecimals:ex.decimals})})).with("invalid-shares",()=>ez.validationMessage).otherwise(()=>{var e;return null==(e=ev.formState.errors.amount)?void 0:e.message}),eX=!eW&&ez.validationMessage?ez.validationMessage:null;return(0,s.jsxs)(Q.j,{open:w,onOpenChange:H,onClose:()=>ev.reset(),title:ea("vault.deposit_funds"),description:ea("vault.deposit_description"),blur:eo,children:[(0,s.jsx)("form",{onSubmit:ev.handleSubmit(e=>{Z&&en&&!eq&&(0,m.YW)(eF).with("needs-wrap",()=>{let e=ek>eP?ek-eP:0n;e_({amountWei:eR>e?e:eR},{onSuccess:async()=>{await eU(),es.positive(ea("vault.eth_wrapped_success"))},onError:()=>{es.negative(ea("vault.eth_wrap_failed"))}})}).with("approve",()=>{ew({token:ex,amount:e.amount,spenderAddress:eV},{onSuccess:async()=>{await eM(),eJ(e.amount)}})}).with("deposit",()=>{eJ(e.amount)}).otherwise(()=>{})}),children:(0,s.jsxs)("div",{className:"space-y-4 px-4 pb-4",children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("div",{className:"text-13 font-500 text-neutral-50",children:ea("vault.select_token")}),(0,s.jsxs)(o.rI.bL,{modal:!0,children:[(0,s.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between gap-2 rounded-12 border border-neutral-20 bg-white-100 px-3 py-[9px]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[eh&&(0,s.jsx)(W.Q,{vault:eh.icon,network:Z.network,size:"20"}),(0,s.jsx)("span",{className:"text-15 font-400 text-neutral-100",children:null!=(a=null==eh?void 0:eh.label)?a:ea("vault.select_token")})]}),(0,s.jsx)(l.FAx,{className:"shrink-0 text-neutral-40 transition-transform"})]}),(0,s.jsx)(o.rI.UC,{children:ec.map(e=>(0,s.jsx)(o.rI.q7,{label:e.label,selected:(null==eh?void 0:eh.id)===e.id,onSelect:()=>{e.stablecoin&&em(e.stablecoin),ee(e.vault),ev.setValue("amount","")},icon:e.icon},e.id))})]}),ep&&(null==eh?void 0:eh.stablecoin)&&(0,s.jsx)("p",{className:"mt-2 text-13 text-neutral-50",children:ea("vault.gusd_stablecoin_info")})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"deposit-amount",className:"block text-13 font-500 text-neutral-50",children:ea("vault.amount_to_deposit")}),(0,s.jsxs)("div",{className:Y({state:eW?"error":"default"}),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("input",{id:"deposit-amount",inputMode:"decimal",...ev.register("amount",{onChange:e=>{let t=e.target.value.split(".");t[1]&&t[1].length>6&&(e.target.value="".concat(t[0],".").concat(t[1].slice(0,6)),ev.setValue("amount",e.target.value))}}),placeholder:"0",disabled:eK,className:"w-full border-none bg-transparent text-27 font-600 text-neutral-100 outline-none placeholder:text-neutral-40"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(W.Q,{vault:null!=(d=null==eh?void 0:eh.icon)?d:Z.icon,network:Z.network,size:"32"}),(0,s.jsx)("span",{className:"text-19 font-600 text-neutral-80",children:ex.symbol})]})]}),(0,s.jsx)("div",{className:G({state:eW?"error":"default"})}),(0,s.jsxs)("div",{className:"space-y-0.5 text-13 font-500 text-neutral-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:eL?(0,J.vv)(eL):"â€”"}),(0,s.jsxs)("button",{type:"button",disabled:eK,onClick:()=>{let e=null!=eP?eP:0n;eA&&e>eA&&(e=eA);let t=(0,h.J)(e,ex.decimals),a=t.split("."),s=a[1]&&a[1].length>6?"".concat(a[0],".").concat(a[1].slice(0,6)):t;ev.setValue("amount",s)},className:"uppercase hover:text-neutral-80",children:[ea("vault.max")," ",(0,J.NJ)(eP,ex.symbol,{includeSymbol:!0,tokenDecimals:ex.decimals,roundDown:!0})]})]}),"WETH"===Z.id&&(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{children:[ea("vault.available_eth_to_wrap")," ",(0,J.NJ)(eR,"ETH",{roundDown:!0})]})}),(null==eh?void 0:eh.stablecoin)&&ek>0n&&eT&&(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("span",{children:ea("vault.you_will_receive",{amount:(0,J.NJ)(eT,"GUSD",{includeSymbol:!0,roundDown:!0})})})})]})]}),eQ&&(0,s.jsx)("p",{className:"text-13 text-danger-50",children:eQ}),eX&&(0,s.jsx)("p",{className:"text-13 text-customisation-yellow-50",children:eX})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-2 text-13 font-500 text-neutral-50",children:ea("vault.rewards")}),(0,s.jsxs)("div",{className:"flex flex-col flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-purple",children:(0,s.jsx)(b.ub,{})}),(0,s.jsx)("span",{className:"text-neutral-100",children:"KARMA"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(b.R3,{})}),(0,s.jsx)("span",{className:"text-neutral-100",children:eI?"".concat(eI,"% ").concat(ea("vault.liquid_apy")):ea("vault.liquid_apy_tbd")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(b.c1,{})}),(0,s.jsx)("span",{className:"text-neutral-100",children:Z.rewards.map(e=>e.startsWith("vault.")?ea(e):e).join(", ")})]}),ep&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-15",children:[(0,s.jsx)("span",{className:"text-neutral-50",children:(0,s.jsx)(b.fs,{})}),(0,s.jsx)("span",{className:"text-neutral-100",children:ea("vault.generic_protocol_points")})]})]})]}),(0,s.jsx)("div",{className:"flex w-full gap-3 pt-4",children:eq?(0,s.jsx)(o.$n,{type:"button",className:"w-full justify-center",onClick:()=>ei({chainId:Z.chainId},{onError:()=>{ed(!0)}}),disabled:el,children:el?ea("vault.switching"):ea("vault.switch_network_to_deposit")}):(0,s.jsx)(o.$n,{type:"submit",className:"w-full justify-center",disabled:eK||eW||"idle"===eF,children:(0,m.YW)({action:eF,isApproving:eb,isDepositing:ej,isGUSDDepositing:eN,isWrapping:eE}).with({isWrapping:!0},()=>ea("vault.wrapping_eth")).with({isApproving:!0},()=>ea("vault.approving")).with({isDepositing:!0},()=>ea("vault.depositing")).with({isGUSDDepositing:!0},()=>ea("vault.depositing")).with({action:"needs-wrap"},()=>ea("vault.wrap_eth_to_weth")).with({action:"approve"},()=>ea("vault.approve_deposit")).with({action:"deposit"},()=>ea("vault.deposit")).otherwise(()=>ea("vault.enter_amount"))})})]})}),(0,s.jsx)(K.V,{open:eo,onClose:()=>ed(!1),onRetry:()=>window.location.reload(),description:ea("network_switch_error.description_ethereum_mainnet"),showNetworkDetails:!1})]})}},86149:(e,t,a)=>{a.d(t,{I:()=>d});var s=a(27274),n=a(36931),r=a(63207),i=a(51960),l=a(53692),o=a(2065);function d(e){let{content:t,link:a}=e,d=(0,l.c)();return(0,s.jsx)(n.Tooltip,{delayDuration:o.j2.DELAY_DURATION,side:"top",className:"border-0",content:(0,s.jsxs)("div",{className:"flex w-[286px] flex-col gap-4 rounded-8 bg-white-100 p-4",children:[(0,s.jsx)("span",{className:"text-13 text-neutral-100",children:t}),a&&(0,s.jsx)(i.vx,{href:a,variant:"outline",className:"rounded-8 px-2 py-1",size:"32",icon:(0,s.jsx)(r.XM,{className:"size-3 text-neutral-50"}),children:d("common.learn_more")})]}),children:(0,s.jsx)(r.mo,{className:"size-4 text-neutral-40 hover:text-neutral-100"})})}},92468:(e,t,a)=>{a.d(t,{j:()=>l});var s=a(27274),n=a(92834),r=a(77221),i=a(53540);function l(e){let{open:t,onOpenChange:a,onClose:l,title:o,description:d,children:c,trigger:u,blur:m=!1}=e;return(0,n.useEffect)(()=>{if(!1===t){let e=setTimeout(()=>{let e=document.body;e&&e.style.removeProperty("pointer-events")},0);return()=>clearTimeout(e)}},[t]),(0,n.useEffect)(()=>()=>{let e=document.body;e&&e.style.removeProperty("pointer-events")},[]),(0,s.jsxs)(r.bL,{open:t,onOpenChange:e=>{null==a||a(e),e||l()},children:[u&&(0,s.jsx)(r.l9,{asChild:!0,children:u}),(0,s.jsxs)(r.ZL,{children:[(0,s.jsx)(r.hJ,{className:"fixed inset-0 z-40 bg-neutral-80/60 backdrop-blur-sm"}),(0,s.jsx)(r.UC,{className:"fixed inset-x-0 top-0 z-50 flex size-full max-w-[480px] flex-col items-center justify-center p-4 focus:outline-none md:left-1/2 md:top-1/2 md:h-auto md:-translate-x-1/2 md:-translate-y-1/2 md:py-0",children:(0,s.jsxs)("div",{className:"relative mx-auto w-full max-w-[480px] overflow-y-auto rounded-20 bg-white-100 shadow-3 max-md:max-h-full ".concat(m?"pointer-events-none blur-sm":""),children:[(0,s.jsx)(r.bm,{asChild:!0,children:(0,s.jsx)("button",{"aria-label":"Close",className:"absolute right-3 top-3 z-50 flex size-8 items-center justify-center rounded-10 border border-neutral-80/10 backdrop-blur-[20px] transition-colors hover:bg-neutral-10 focus:outline-none",children:(0,s.jsx)(i.USm,{className:"text-neutral-100"})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-4",children:[(0,s.jsx)(r.hE,{asChild:!0,children:(0,s.jsx)("div",{className:"flex w-full items-center gap-1.5",children:(0,s.jsx)("span",{className:"shrink-0 grow basis-0 text-19 font-semibold text-neutral-100",children:o})})}),(0,s.jsx)(r.VY,{asChild:!0,children:(0,s.jsx)("div",{className:"flex w-full flex-col justify-center text-15 text-neutral-100",children:(0,s.jsx)("span",{children:d})})})]}),c]})})]})]})}},93311:(e,t,a)=>{a.d(t,{v:()=>n});var s=a(58041);function n(e){let{vault:t}=e;return(0,s.Q)({abi:t.abi,address:t.address,chainId:t.chainId,functionName:"totalAssets",query:{enabled:null!==t}})}},93870:(e,t,a)=>{a.d(t,{O:()=>i});var s=a(92834),n=a(42712),r=a(53441);function i(){var e;let[t,a]=(0,s.useState)(null),{registerRefetch:i,refetchVault:l}=function(){let e=(0,s.useRef)({});return{registerRefetch:(0,s.useCallback)((t,a)=>{e.current[t]=a},[]),refetchVault:(0,s.useCallback)(t=>{if(t){var a,s;null==(a=(s=e.current)[t.id])||a.call(s)}},[])}}(),{data:o}=(0,r.r)(),d=null!=(e=n.Qt.find(e=>"SNT"===e.id))?e:n.Qt[0];return{selectedVault:t,setSelectedVault:a,defaultVault:d,activeVaults:(0,s.useMemo)(()=>o?n.Qt.filter(e=>e.address.toLowerCase()in o):n.Qt,[o]),registerRefetch:i,openModal:e=>a(e),closeModal:()=>a(null),handleDepositSuccess:()=>l(t),isModalOpen:null!==t}}}}]);